{"ast":null,"code":"import _asyncToGenerator from\"C:/Users/Sai Nikhil/Desktop/github searching task/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/Sai Nikhil/Desktop/github searching task/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import _regeneratorRuntime from\"C:/Users/Sai Nikhil/Desktop/github searching task/node_modules/@babel/runtime/regenerator/index.js\";import React,{useState,useEffect}from\"react\";import\"./User.css\";import site from\"../../../assets/site.png\";import github from\"../../../assets/github.png\";import location from\"../../../assets/location.png\";import user from\"../../../assets/user.png\";import{Link,useParams}from\"react-router-dom\";import axios from\"../../../axios\";import Repo from\"../../ui/Repo\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var User=function User(){var _useParams=useParams(),login=_useParams.login;//UserInformation\nvar _useState=useState({}),_useState2=_slicedToArray(_useState,2),userInfo=_useState2[0],setUserInfo=_useState2[1];//User repos\nvar _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),repos=_useState4[0],setRepos=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),currentpage=_useState6[0],setCurrentPage=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),activepage=_useState8[0],setActivetPage=_useState8[1];var _useState9=useState(10),_useState10=_slicedToArray(_useState9,1),perPage=_useState10[0];var _useState11=useState(0),_useState12=_slicedToArray(_useState11,2),offset=_useState12[0],setOffset=_useState12[1];var pageNumbers=[];for(var i=0;i<Math.ceil(repos.length)/perPage;i++){pageNumbers.push(i);}var handleChange=function handleChange(e,pageno){//console.log(\"test\")\n//console.log(\"pageno\"+pageno)\nsetCurrentPage(Math.ceil(repos.length/perPage));var selectedPage=pageno;setActivetPage(pageno);setOffset(selectedPage*perPage);};var slice=repos.slice(offset,offset+perPage);useEffect(function(){var fetchUserInformation=/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return Promise.all([axios.get(\"/users/\".concat(login)),axios.get(\"/users/\".concat(login,\"/repos\"))]);case 3:response=_context.sent;setUserInfo(response[0].data);setRepos(response[1].data);_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function fetchUserInformation(){return _ref.apply(this,arguments);};}();fetchUserInformation();},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",className:\"back\",children:\"Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-information\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"image\",children:/*#__PURE__*/_jsx(\"img\",{src:userInfo===null||userInfo===void 0?void 0:userInfo.avatar_url})}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-content\",children:[/*#__PURE__*/_jsx(\"h3\",{children:userInfo===null||userInfo===void 0?void 0:userInfo.name}),/*#__PURE__*/_jsx(\"p\",{children:userInfo===null||userInfo===void 0?void 0:userInfo.bio}),/*#__PURE__*/_jsxs(\"div\",{className:\"more-data\",children:[/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:user,alt:\"\"}),userInfo===null||userInfo===void 0?void 0:userInfo.followers,\" Followers. Following \",userInfo===null||userInfo===void 0?void 0:userInfo.following]}),(userInfo===null||userInfo===void 0?void 0:userInfo.location)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:location,alt:\"\"}),userInfo===null||userInfo===void 0?void 0:userInfo.location]}),(userInfo===null||userInfo===void 0?void 0:userInfo.blog)&&/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:site,alt:\"\"}),userInfo===null||userInfo===void 0?void 0:userInfo.blog]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"img\",{src:github,alt:\"\"}),/*#__PURE__*/_jsx(\"a\",{href:userInfo===null||userInfo===void 0?void 0:userInfo.html_url,children:\"View GitHub Profile\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"user-repos\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"pagination\",children:pageNumbers.map(function(page){return/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(event){return handleChange(event,page);},children:/*#__PURE__*/_jsx(\"span\",{className:page==activepage?'page-link active':'page-link',children:page+1},page)});})}),repos?slice.map(function(repo){return/*#__PURE__*/_jsx(Repo,{repo:repo},repo.id);}):/*#__PURE__*/_jsx(\"h3\",{children:\"repos not found...\"})]})]});};export default User;","map":{"version":3,"names":["React","useState","useEffect","site","github","location","user","Link","useParams","axios","Repo","User","login","userInfo","setUserInfo","repos","setRepos","currentpage","setCurrentPage","activepage","setActivetPage","perPage","offset","setOffset","pageNumbers","i","Math","ceil","length","push","handleChange","e","pageno","selectedPage","slice","fetchUserInformation","Promise","all","get","response","data","console","error","avatar_url","name","bio","followers","following","blog","html_url","map","page","event","repo","id"],"sources":["C:/Users/Sai Nikhil/Desktop/github searching task/src/components/pages/User/User.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport \"./User.css\";\r\nimport site from \"../../../assets/site.png\";\r\nimport github from \"../../../assets/github.png\";\r\nimport location from \"../../../assets/location.png\";\r\nimport user from \"../../../assets/user.png\";\r\nimport { Link, useParams } from \"react-router-dom\";\r\nimport axios from \"../../../axios\";\r\nimport Repo from \"../../ui/Repo\";\r\nconst User = () => {\r\n  const { login } = useParams();\r\n\r\n  //UserInformation\r\n  const [userInfo, setUserInfo] = useState({});\r\n  //User repos\r\n  const [repos, setRepos] = useState([]);\r\n\r\n\r\n  const [currentpage, setCurrentPage] = useState(0)\r\n  const [activepage, setActivetPage] = useState(0)\r\n  const [perPage] = useState(10);\r\n  const [offset, setOffset] = useState(0);\r\n  const pageNumbers = [];\r\n\r\n\r\n  for (let i = 0; i<Math.ceil(repos.length)/perPage; i++){\r\n    pageNumbers.push(i)\r\n}\r\n\r\nconst handleChange = (e, pageno) => {\r\n    //console.log(\"test\")\r\n    //console.log(\"pageno\"+pageno)\r\n    setCurrentPage(Math.ceil(repos.length/perPage));\r\n    const selectedPage = pageno;\r\n    setActivetPage(pageno);\r\n    setOffset(selectedPage*perPage);\r\n\r\n\r\n}\r\n\r\nconst slice = repos.slice(offset, offset + perPage)\r\n\r\n  useEffect(() => {\r\n    const fetchUserInformation = async () => {\r\n      try {\r\n        const response = await Promise.all([\r\n          axios.get(`/users/${login}`),\r\n          axios.get(`/users/${login}/repos`),\r\n        ]);\r\n        setUserInfo(response[0].data);\r\n        setRepos(response[1].data);\r\n      } catch (error) {\r\n        console.error(error);\r\n      }\r\n    };\r\n    fetchUserInformation();\r\n  }, []);\r\n  return (\r\n    <div className=\"container\">\r\n      <Link to=\"/\" className=\"back\">\r\n        Back\r\n      </Link>\r\n      <div className=\"user-information\">\r\n        <div className=\"image\">\r\n          <img src={userInfo?.avatar_url} />\r\n        </div>\r\n        <div className=\"user-content\">\r\n          <h3>{userInfo?.name}</h3>\r\n          <p>{userInfo?.bio}</p>\r\n          <div className=\"more-data\">\r\n            <p>\r\n              <img src={user} alt=\"\" />\r\n              {userInfo?.followers} Followers. Following {userInfo?.following}\r\n            </p>\r\n            {userInfo?.location && (\r\n              <p>\r\n                <img src={location} alt=\"\" />\r\n                {userInfo?.location}\r\n              </p>\r\n            )}\r\n            {userInfo?.blog && (\r\n              <p>\r\n                <img src={site} alt=\"\" />\r\n                {userInfo?.blog}\r\n              </p>\r\n            )}\r\n            <p>\r\n              <img src={github} alt=\"\" />\r\n              <a href={userInfo?.html_url}>View GitHub Profile</a>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      \r\n      <div className=\"user-repos\">\r\n        <div className=\"pagination\">\r\n         \r\n            {/* <button onClick={handlePrevPage}>{page}</button>\r\n            <button onClick={handleNextPage}>{page + 1}</button> */}\r\n            {pageNumbers.map(page => (  \r\n                    <button onClick={(event) => handleChange(event,page)}><span key={page} className={(page)==(activepage) ? 'page-link active' : 'page-link' }>  \r\n                      {page+1}</span>\r\n                      </button>\r\n              ))} \r\n          </div>\r\n        {repos ? (\r\n          slice.map((repo) => {\r\n            return <Repo repo={repo} key={repo.id} />;\r\n          })\r\n        ) : (\r\n          <h3>repos not found...</h3>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}